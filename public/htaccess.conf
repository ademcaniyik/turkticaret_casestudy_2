# Enable rewrite engine
rewrite on

# Set base path
rewrite base /api

# Handle Front Controller Pattern
rewrite if not dir
rewrite if not file
rewrite rule ^api/(.*)$ index.php [QSA,L]

# Allow HTTP methods
rewrite if %{REQUEST_METHOD} =~ ^(POST|PUT|DELETE|PATCH)$
rewrite rule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
